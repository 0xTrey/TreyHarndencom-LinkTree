{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <h1 class="page-heading mb-2">Public Journal</h1>
    <p class="page-subtext mb-4">
        Thoughts on AI, health, sobriety, and intentional living â€” shared transparently.
    </p>

    <div class="journal-actions mb-4">
        <a href="{{ site.notion_embed_url }}" 
           class="btn btn-link social-link"
           target="_blank"
           data-link-name="Open in Notion">
            <i class="fas fa-external-link-alt me-2"></i>
            Open in Notion
        </a>
        <a href="{{ site.github_url }}" 
           class="btn btn-link social-link"
           target="_blank"
           data-link-name="GitHub">
            <i class="fab fa-github me-2"></i>
            GitHub
        </a>
    </div>

    <div id="journal-embed-container" class="journal-embed-container">
        <div id="journal-loading" class="journal-loading">
            <div class="spinner-border text-light" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-3">Loading journal...</p>
        </div>

        <div id="journal-fallback" class="journal-fallback" style="display: none;">
            <div class="fallback-banner">
                <i class="fas fa-exclamation-triangle me-2"></i>
                The embedded journal couldn't be loaded. This can happen due to browser privacy settings or network restrictions.
                <a href="{{ site.notion_embed_url }}" target="_blank" class="fallback-link">
                    Open directly in Notion <i class="fas fa-external-link-alt ms-1"></i>
                </a>
            </div>
        </div>

        <iframe id="journal-iframe"
                src="{{ site.notion_embed_url }}"
                class="journal-iframe"
                style="display: none;"
                frameborder="0"
                allowfullscreen
                sandbox="allow-scripts allow-same-origin allow-popups allow-forms">
        </iframe>
    </div>
</div>
{% endblock %}
